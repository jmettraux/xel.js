
#
# spec'ing Xel
#
# Fri Oct  2 05:54:28 JST 2015
#

[
  '10',
  [ 'num', '10' ],

  '10 + 11',
  [ 'SUM', [ 'num', '10' ], [ 'num', '11' ] ],

  '10 - -11',
  [ 'SUM', [ 'num', '10' ], [ 'opp', [ 'num', '-11' ] ] ],

  '10 / -11',
  [ 'MUL', [ 'num', '10' ], [ 'inv', [ 'num', '-11' ] ] ],

  '10 + 11 * 12',
  [ 'SUM', [ 'num', '10' ], [ 'MUL', [ 'num', '11' ], [ 'num', '12' ] ] ],

  '(10 + 11) * 12',
  [ 'MUL', [ 'SUM', [ 'num', '10' ], [ 'num', '11' ] ], [ 'num', '12' ] ],

  '10 + SUM(1, 2)',
  [ 'SUM', [ 'num', '10' ], [ 'SUM', [ 'num', '1' ], [ 'num', '2' ] ] ],

  '1 * 2 + 3',
  [ 'SUM', [ 'MUL', [ 'num', '1' ], [ 'num', '2' ] ], [ 'num', '3' ] ],

  '1 + 2 * 3',
  [ 'SUM', [ 'num', '1' ], [ 'MUL', [ 'num', '2' ], [ 'num', '3' ] ] ],

  '1 + 2 < 3',
  [ 'cmp', '<', [ 'SUM', [ 'num', '1' ], [ 'num', '2' ] ], [ 'num', '3' ] ],

  '1 + a',
  [ 'SUM', [ 'num', '1' ], [ 'var', 'a' ] ],
  '1 + a.b.c',
  [ 'SUM', [ 'num', '1' ], [ 'var', 'a.b.c' ] ],

  'SUM(1 + 2, 3, SUM(4, 5))',
  [ 'SUM',
    [ 'SUM', [ 'num', '1' ], [ 'num', '2' ] ],
    [ 'num', '3' ],
    [ 'SUM', [ 'num', '4' ], [ 'num', '5' ] ] ],

  "'ab\"cd\\'ef'",
  [ 'str', "ab\"cd'ef" ],

  "\"ab\\\"cd'ef\"",
  [ 'str', "ab\"cd'ef" ],

  "ntac = 'no'",
  [ 'cmp', '=', [ 'var', 'ntac' ], [ 'str', 'no' ] ],

  "IF(ntac='no', 10, 0)",
  [ 'IF',
    [ 'cmp', '=', [ 'var', 'ntac' ], [ 'str', 'no' ] ],
    [ 'num', '10' ],
    [ 'num', '0' ]
  ],

  "10 + IF(ntac='no', 10, 0)",
  [ 'SUM',
    [ 'num', '10' ],
    [ 'IF',
      [ 'cmp', '=', [ 'var', 'ntac' ], [ 'str', 'no' ] ],
      [ 'num', '10' ],
      [ 'num', '0' ]
    ]
  ],

  '12.3',
  [ 'num', '12.3' ],

  "'ab' =~ '[a-z]'",
  [ 'cmp', '=~', [ 'str', "ab" ], [ 'str', "[a-z]" ] ],

  '3,000,000',
  [ 'num', '3,000,000' ],

  'SUM(3,000,000, 2)',
  [ 'SUM', [ 'num', '3,000,000' ], [ 'num', '2' ] ],

  '{1,"a", "b", 2, 0, "d" }',
  [ 'arr',
    [ 'num', '1' ], [ 'str', 'a' ], [ 'str', 'b' ], [ 'num', '2' ],
    [ 'num', '0' ], [ 'str', 'd' ] ],

  '"a" IN { "alpha", "bravo" }',
  [ 'cmp',
    'IN',
    [ 'str', 'a' ],
    [ 'arr', [ 'str', 'alpha' ], [ 'str', 'bravo' ] ] ],

  '{ 1, 2, 3 } + { 3, 4, 5 }',
  [ 'SUM',
    [ 'arr', [ 'num', '1' ], [ 'num', '2' ], [ 'num', '3' ] ],
    [ 'arr', [ 'num', '3' ], [ 'num', '4' ], [ 'num', '5' ] ] ],

  '0.45 * we_c - 0.15 * it_c + 0.15 * sm_c + 0.25 * gp_c',
  ["SUM",
    ["MUL", ["num", "0.45"], ["var", "we_c"]],
    ["opp", ["MUL", ["num", "0.15"], ["var", "it_c"]]],
    ["MUL", ["num", "0.15"], ["var", "sm_c"]],
    ["MUL", ["num", "0.25"], ["var", "gp_c"]]],
]

